<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Javaåå°„å…¥é—¨</title>
      <link href="/2025/08/10/Java%E5%8F%8D%E5%B0%84%E5%85%A5%E9%97%A8/"/>
      <url>/2025/08/10/Java%E5%8F%8D%E5%B0%84%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯åå°„"><a href="#ä»€ä¹ˆæ˜¯åå°„" class="headerlink" title="ä»€ä¹ˆæ˜¯åå°„"></a>ä»€ä¹ˆæ˜¯åå°„</h2><p>åœ¨<code>spring</code>é¡¹ç›®ä¸­ï¼Œåªéœ€è¦å†™ä¸ª<code>@Service</code>æˆ–è€…<code>@Component</code>ï¼Œç„¶ååœ¨åˆ«çš„åœ°æ–¹ç”¨<code>@Autowired</code>å£°æ˜ä¸€ä¸ªæ¥å£å˜é‡ï¼Œ<code>Spring</code>å°±èƒ½è¿”å›ç»™æˆ‘ä»¬ä¸€ä¸ªå®ç°äº†è¯¥æ¥å£çš„å…·ä½“å¯¹è±¡ã€‚è¿™æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿå®ƒä¸å¯èƒ½åœ¨ç¼–è¯‘æ—¶å°±çŸ¥é“åŠ äº†æ³¨è§£çš„ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»ï¼Œæ‰€ä»¥åªèƒ½æ˜¯åœ¨ç¨‹åºå¯åŠ¨<strong>è¿è¡Œæ—¶</strong>ï¼ŒSpringåŠ¨æ€åœ°å‘ç°äº†è¿™äº›ç±»ï¼Œè¯»å–äº†ä»–ä»¬çš„ç»“æ„ï¼Œç„¶ååˆ›å»ºå¯¹è±¡ã€‚è¿™èƒŒåçš„æŠ€æœ¯æ”¯æ’‘åˆæ˜¯ä»€ä¹ˆï¼Ÿç­”æ¡ˆå°±æ˜¯åå°„ã€‚</p><p>åå°„æ˜¯Javaæä¾›çš„ä¸€ç§åœ¨<strong>ç¨‹åºè¿è¡Œæ—¶</strong></p><ul><li>æ£€æŸ¥&#x2F;è·å–ç±»ã€æ¥å£ã€å­—æ®µã€æ–¹æ³•ã€æ„é€ å™¨ç­‰ç»“æ„ä¿¡æ¯çš„èƒ½åŠ›ã€‚</li><li>æ“ä½œ&#x2F;è°ƒç”¨å¯¹è±¡ã€å­—æ®µã€æ–¹æ³•çš„èƒ½åŠ›ã€‚</li></ul><p>å®ƒå°±åƒä¸€é¢é•œå­ï¼Œè®©ç¨‹åºåœ¨è¿è¡Œæ—¶â€œç…§è§â€è‡ªå·±çš„ç»“æ„ã€‚</p><h2 id="åå°„çš„åŸºçŸ³ï¼šClasså¯¹è±¡"><a href="#åå°„çš„åŸºçŸ³ï¼šClasså¯¹è±¡" class="headerlink" title="åå°„çš„åŸºçŸ³ï¼šClasså¯¹è±¡"></a>åå°„çš„åŸºçŸ³ï¼š<code>Class</code>å¯¹è±¡</h2><p>ç¼–è¯‘å™¨åœ¨ç¼–è¯‘ Java æºä»£ç æ—¶ä¼šç”Ÿæˆ <code>.class</code> æ–‡ä»¶ï¼ˆå­—èŠ‚ç æ–‡ä»¶ï¼‰ã€‚å½“ JVM éœ€è¦ç”¨åˆ°æŸä¸ªç±»æ—¶ï¼Œå®ƒçš„ç±»åŠ è½½å™¨ä¼šè¯»å–å¹¶è§£æå¯¹åº”çš„ <code>.class</code> æ–‡ä»¶ï¼Œåœ¨æ–¹æ³•åŒºï¼ˆæˆ–å…ƒç©ºé—´ï¼‰æ„å»ºè¯¥ç±»çš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ï¼ŒåŒæ—¶åœ¨å †å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªä»£è¡¨è¯¥ç±»çš„ <strong><code>java.lang.Class</code> å¯¹è±¡</strong>ã€‚æ¯ä¸ªè¢«åŠ è½½çš„ç±»åœ¨ JVM ä¸­éƒ½æœ‰ä¸”åªæœ‰ä¸€ä¸ªå¯¹åº”çš„ <code>Class</code> å¯¹è±¡ï¼ˆåœ¨åŒä¸€ä¸ªç±»åŠ è½½å™¨å‘½åç©ºé—´å†…ï¼‰ã€‚</p><p>è¿™é‡Œçš„<code>Class</code>æ˜¯ä¸€ä¸ªç±»çš„åå­—ï¼Œä¸è¦å’Œ<code>class</code>å…³é”®å­—ææ··ã€‚</p><p>æœ‰ä¸‰ç§æ–¹æ³•è·å–<code>Class</code>å¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;me&quot;</span>, <span class="number">20</span>);</span><br><span class="line"><span class="comment">//æ³•ä¸€ï¼šé€šè¿‡å¯¹è±¡å®ä¾‹</span></span><br><span class="line">Class&lt; ? <span class="keyword">extends</span> <span class="title class_">Person</span>&gt; clazz1 = person.getClass();</span><br><span class="line"><span class="comment">//æ³•äºŒï¼šè‡ªå¸¦å±æ€§ï¼ˆåŸºæœ¬æ•°æ®ç±»å‹ä¹Ÿæœ‰ï¼‰</span></span><br><span class="line">Class&lt;Person&gt; clazz2 = Person.class;</span><br><span class="line"><span class="comment">//æ³•ä¸‰ï¼šClassç±»çš„é™æ€æ–¹æ³• forName</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Class&lt;?&gt; clazz3 = Class.forName(<span class="string">&quot;org.myblog.reflection.Person&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è§£é‡Šä¸€ä¸‹è¿™ä¸‰ç§æ–¹æ³•æ³›å‹çš„ä½¿ç”¨ï¼šæ³•ä¸€ä½¿ç”¨<code>Class&lt;? extends Person&gt; </code>å› ä¸º<code>Class</code>å¯¹è±¡æ˜¯åœ¨è¿è¡Œæ—¶ä»<code>Person</code>å®ä¾‹è·å–çš„ï¼Œè€Œ<code>Person</code>å®ä¾‹çš„å…·ä½“ç±»å‹åªèƒ½åœ¨è¿è¡Œæ—¶åˆ›å»ºå’Œç¡®å®šï¼Œç¼–è¯‘é˜¶æ®µæ— æ³•åˆ¤æ–­ï¼Œæ‰€ä»¥ä½¿ç”¨é€šé…ç¬¦ ï¼Œåˆå› ä¸º<code>person</code>å¯èƒ½æ˜¯<code>Person</code>å®ä¾‹ï¼Œä¹Ÿå¯èƒ½æ˜¯<code>Person</code>çš„å­ç±»å®ä¾‹ï¼Œæ‰€ä»¥æœ€ç»ˆå†™æˆ<code>Class&lt; ? extends Person&gt;</code>ï¼›æ³•äºŒä½¿ç”¨<code>Class&lt;Person&gt;</code>å› ä¸ºç¼–è¯‘æ—¶å·²çŸ¥å…·ä½“ç±»å‹ï¼›æ³•ä¸‰ä½¿ç”¨<code>Class&lt;?&gt;</code>å› ä¸ºé€šè¿‡å­—ç¬¦ä¸²åŠ¨æ€åŠ è½½ç±»ï¼Œç¼–è¯‘æ—¶æ— æ³•ç¡®å®šå…·ä½“ç±»å‹ï¼Œæ‰€ä»¥ä½¿ç”¨é€šé…ç¬¦ã€‚è¿™ä¸‰ä¸ª Class å¯¹è±¡éƒ½æ˜¯åŒä¸€ä¸ªï¼ˆä¸Šé¢ä¹Ÿæåˆ°äº†ï¼Œä¸€ä¸ªç±»å”¯ä¸€å¯¹åº”ä¸€ä¸ª Class å¯¹è±¡ï¼‰ã€‚</p><p><strong>æœ€å¸¸ç”¨ã€æœ€çµæ´»çš„æ˜¯æ³•ä¸‰</strong></p><h2 id="åå°„çš„æ ¸å¿ƒæ“ä½œ"><a href="#åå°„çš„æ ¸å¿ƒæ“ä½œ" class="headerlink" title="åå°„çš„æ ¸å¿ƒæ“ä½œ"></a>åå°„çš„æ ¸å¿ƒæ“ä½œ</h2><p><code>Person</code>ç±»å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">species</span> <span class="operator">=</span> <span class="string">&quot;Human&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(<span class="string">&quot;Unknown&quot;</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Person</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = <span class="number">18</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">greet</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello &quot;</span> + name + <span class="string">&quot;,I&#x27;m &quot;</span> + <span class="built_in">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">celebrateBirthday</span><span class="params">()</span> &#123;</span><br><span class="line">        age++;</span><br><span class="line">        System.out.println(name + <span class="string">&quot; is now &quot;</span> + age + <span class="string">&quot; years old!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">describeSpecies</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;We are all &quot;</span> + species);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è·å–ç±»çš„ä¿¡æ¯"><a href="#è·å–ç±»çš„ä¿¡æ¯" class="headerlink" title="è·å–ç±»çš„ä¿¡æ¯"></a>è·å–ç±»çš„ä¿¡æ¯</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;?&gt; clazz = Class.forName(<span class="string">&quot;org.example.myblog.reflection.Person&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;ç±»åï¼š&quot;</span> + clazz.getName());</span><br><span class="line">System.out.println(<span class="string">&quot;åŒ…åï¼š&quot;</span> + clazz.getPackage().getName());</span><br><span class="line">System.out.println(<span class="string">&quot;çˆ¶ç±»ï¼š&quot;</span> + clazz.getSuperclass());</span><br><span class="line">System.out.println(<span class="string">&quot;æ¥å£ï¼š&quot;</span> + Arrays.toString(clazz.getInterfaces()));</span><br><span class="line">System.out.println(<span class="string">&quot;ä¿®é¥°ç¬¦ï¼š&quot;</span> + Modifier.toString(clazz.getModifiers()));</span><br></pre></td></tr></table></figure><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ç±»åï¼šorg.example.myblog.reflection.Person</span><br><span class="line">åŒ…åï¼šorg.example.myblog.reflection</span><br><span class="line">çˆ¶ç±»ï¼šclass java.lang.Object</span><br><span class="line">æ¥å£ï¼š[]</span><br><span class="line">ä¿®é¥°ç¬¦ï¼špublic</span><br></pre></td></tr></table></figure><h3 id="æ“ä½œå­—æ®µ"><a href="#æ“ä½œå­—æ®µ" class="headerlink" title="æ“ä½œå­—æ®µ"></a>æ“ä½œå­—æ®µ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;æ“ä½œå­—æ®µ+++++++++++++++++++++++++++++++++&quot;</span>);</span><br><span class="line">Field[] allFields = clazz.getDeclaredFields();</span><br><span class="line"><span class="keyword">for</span> (Field f : allFields) &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;- &quot;</span> + Modifier.toString(f.getModifiers()) + <span class="string">&quot; &quot;</span> +</span><br><span class="line">                    f.getType().getSimpleName() + <span class="string">&quot; &quot;</span> + f.getName());</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">Person</span> <span class="variable">me</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;me&quot;</span>, <span class="number">20</span>);</span><br><span class="line"><span class="comment">//è®¿é—®publicå­—æ®µ</span></span><br><span class="line"><span class="type">Field</span> <span class="variable">nameField</span> <span class="operator">=</span> clazz.getField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">System.out.println(nameField.get(me));</span><br><span class="line"><span class="comment">//è®¿é—®privateå­—æ®µ</span></span><br><span class="line"><span class="type">Field</span> <span class="variable">ageField</span> <span class="operator">=</span> clazz.getDeclaredField(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">ageField.setAccessible(<span class="literal">true</span>);</span><br><span class="line">System.out.println(ageField.get(me));</span><br><span class="line">ageField.set(me, <span class="number">18</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;ä¿®æ”¹åå¹´é¾„: &quot;</span> + ageField.get(me));</span><br><span class="line"><span class="comment">//è®¿é—®staticå­—æ®µ</span></span><br><span class="line"><span class="type">Field</span> <span class="variable">speciesField</span> <span class="operator">=</span> clazz.getField(<span class="string">&quot;species&quot;</span>);</span><br><span class="line">System.out.println(speciesField.get(<span class="literal">null</span>));</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- <span class="keyword">public</span> String name</span><br><span class="line">- <span class="keyword">private</span> <span class="type">int</span> age</span><br><span class="line">- <span class="keyword">public</span> <span class="keyword">static</span> String species</span><br><span class="line">me</span><br><span class="line"><span class="number">20</span></span><br><span class="line">ä¿®æ”¹åå¹´é¾„: <span class="number">18</span></span><br><span class="line">Human</span><br></pre></td></tr></table></figure><p>è¯´æ˜å‡ ç‚¹ï¼š</p><ol><li><p><code>getDeclaredFields()</code>æ˜¯è·å–æ‰€æœ‰å­—æ®µï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œ<code>getField</code>åˆ™æ˜¯æ ¹æ®å‚æ•°è¿”å›æŒ‡å®šå­—æ®µï¼Œè¿”å›çš„æ˜¯<code>Field</code>å®ä¾‹ã€‚</p></li><li><p>æœ€åä¸€è¡Œ<code>speciesField.get(null)</code>ä¼ å…¥å‚æ•°<code>null</code>ï¼Œå› ä¸ºé™æ€å­—æ®µæ˜¯å±äºè¿™ä¸ªç±»çš„ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¼ å…¥å¯¹è±¡<code>me</code>ã€‚</p></li><li><p><code>ageField.setAccessible(true);</code>è¿™ä¸ªæ–¹æ³•ä¼ å…¥å‚æ•°<code>true</code>è¡¨ç¤º<strong>å±è”½Javaè¯­è¨€çš„è®¿é—®æ£€æŸ¥</strong>ã€‚çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Field[] allFields = clazz.getDeclaredFields();</span><br><span class="line"><span class="keyword">for</span> (Field f : allFields) &#123;</span><br><span class="line"><span class="type">Object</span> <span class="variable">target</span> <span class="operator">=</span> Modifier.isStatic(f.getModifiers()) ? <span class="literal">null</span> : me;</span><br><span class="line">            System.out.println(<span class="string">&quot;  å¯è®¿é—®æ€§: &quot;</span> + f.canAccess(target));</span><br><span class="line">    <span class="type">Object</span> <span class="variable">target</span> <span class="operator">=</span> Modifier.isStatic(f.getModifiers()) ? <span class="literal">null</span> : me;</span><br><span class="line">    System.out.println(<span class="string">&quot;  å¯è®¿é—®æ€§: &quot;</span> + f.canAccess(target));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- public String name</span><br><span class="line">  å¯è®¿é—®æ€§: true</span><br><span class="line">- private int age</span><br><span class="line">  å¯è®¿é—®æ€§: false</span><br><span class="line">- public static String species</span><br><span class="line">  å¯è®¿é—®æ€§: true</span><br></pre></td></tr></table></figure><p>è¾“å‡ºå¦‚ä¸Šï¼Œ<code>age</code>æ˜¯ä¸å¯è®¿é—®çš„ï¼Œåœ¨<code>setAccessible(true)</code>åå¯ä»¥è®¿é—®å¹¶ä¿®æ”¹ã€‚å¦åˆ™ä¼šæŠ¥é”™ã€‚</p></li><li><p>å¦‚æœæƒ³è¦è®¿é—®<code>private</code>æˆ–å…¶ä»–é<code>public</code>å­—æ®µï¼Œå¿…é¡»ä½¿ç”¨<code>getDeclaredField()</code>ï¼Œ<strong>æ³¨æ„é‡Œé¢æœ‰<code>Declared</code>ï¼Œè¿™ä¸ªè§„å¾‹åŒæ ·é€‚ç”¨åé¢çš„<code>Method</code>å’Œ<code>Constructor</code>ã€‚</strong></p></li></ol><h3 id="æ“ä½œæ–¹æ³•"><a href="#æ“ä½œæ–¹æ³•" class="headerlink" title="æ“ä½œæ–¹æ³•"></a>æ“ä½œæ–¹æ³•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;\n==== æ–¹æ³•æ“ä½œ ====&quot;</span>);</span><br><span class="line"><span class="type">Person</span> <span class="variable">Dong</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;dong&quot;</span>, <span class="number">18</span>);</span><br><span class="line">Method[] allMethods = clazz.getDeclaredMethods();</span><br><span class="line">System.out.println(<span class="string">&quot;æ‰€æœ‰æ–¹æ³•:&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (Method m : allMethods) &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;- &quot;</span> + m.getName() + <span class="string">&quot;()&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è°ƒç”¨publicæ–¹æ³•</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">greetMethod</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;greet&quot;</span>, String.class);</span><br><span class="line">greetMethod.invoke(Dong, <span class="string">&quot;ææ˜&quot;</span>);</span><br><span class="line"><span class="comment">// è°ƒç”¨privateæ–¹æ³•</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">birthdayMethod</span> <span class="operator">=</span> clazz.getDeclaredMethod(<span class="string">&quot;celebrateBirthday&quot;</span>);</span><br><span class="line">birthdayMethod.setAccessible(<span class="literal">true</span>);</span><br><span class="line">birthdayMethod.invoke(Dong);</span><br><span class="line">System.out.println(<span class="string">&quot;æ–°å¹´é¾„: &quot;</span> + ageField.get(Dong)); <span class="comment">// éªŒè¯å¹´é¾„å¢åŠ </span></span><br><span class="line"><span class="comment">// è°ƒç”¨staticæ–¹æ³•</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">speciesMethod</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;describeSpecies&quot;</span>);</span><br><span class="line">speciesMethod.invoke(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">æ‰€æœ‰æ–¹æ³•:</span><br><span class="line">- celebrateBirthday()</span><br><span class="line">- describeSpecies()</span><br><span class="line">- greet()</span><br><span class="line">Hello ææ˜,I&#x27;m dong</span><br><span class="line">dong is now 19 years old!</span><br><span class="line">æ–°å¹´é¾„: 19</span><br><span class="line">We are all Human</span><br></pre></td></tr></table></figure><p>å…¶å®å’Œæ“ä½œå­—æ®µæœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ï¼Œè¿™é‡Œè¯´ä¸€ä¸‹<code>invoke</code>æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Method</span> <span class="variable">greetMethod</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;greet&quot;</span>, String.class);</span><br><span class="line">greetMethod.invoke(Dong, <span class="string">&quot;ææ˜&quot;</span>);</span><br></pre></td></tr></table></figure><p><code>getMethod</code>æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯æ–¹æ³•åç§°ï¼Œä¸€ä¸ªæ˜¯å‚æ•°çš„<code>class</code>å¯¹è±¡</p><p><code>greetMethod</code>æ–¹æ³•åŒæ ·æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯å¯¹è±¡å®ä¾‹ï¼ˆå¦‚æœæ˜¯é™æ€æ–¹æ³•åˆ™ä¼ å…¥<code>null</code>ï¼‰ï¼Œä¸€ä¸ªæ˜¯ä¼ é€’çš„å‚æ•°ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•çš„å‚æ•°ä¸ªæ•°ä¸æ˜¯å›ºå®šçš„(å…¶å®æ˜¯ä¸ªæ•°ç»„)ï¼Œè¿™å–å†³äºç›®æ ‡æ–¹æ³•çš„å‚æ•°ä¸ªæ•°ã€‚</p><h3 id="æ“ä½œæ„é€ å™¨"><a href="#æ“ä½œæ„é€ å™¨" class="headerlink" title="æ“ä½œæ„é€ å™¨"></a>æ“ä½œæ„é€ å™¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–æ‰€æœ‰æ„é€ å™¨</span></span><br><span class="line">Constructor&lt;?&gt;[] constructors = clazz.getDeclaredConstructors();</span><br><span class="line">System.out.println(<span class="string">&quot;æ‰€æœ‰æ„é€ å™¨:&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (Constructor&lt;?&gt; c : constructors) &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;å‚æ•°æ•°é‡: &quot;</span> + c.getParameterCount());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½¿ç”¨publicæ— å‚æ„é€ å™¨åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">Constructor&lt;?&gt; emptyConstructor = clazz.getConstructor();</span><br><span class="line"><span class="type">Person</span> <span class="variable">unknown</span> <span class="operator">=</span> (Person) emptyConstructor.newInstance();</span><br><span class="line">System.out.println(<span class="string">&quot;æ— å‚æ„é€ åˆ›å»º: &quot;</span> + unknown.name);</span><br><span class="line"><span class="comment">// ä½¿ç”¨publicå¸¦å‚æ„é€ å™¨åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">Constructor&lt;?&gt; paramConstructor = clazz.getConstructor(String.class, <span class="type">int</span>.class);</span><br><span class="line"><span class="type">Person</span> <span class="variable">sarah</span> <span class="operator">=</span> (Person) paramConstructor.newInstance(<span class="string">&quot;Sarah&quot;</span>, <span class="number">28</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;å¸¦å‚æ„é€ åˆ›å»º: &quot;</span> + sarah.name + <span class="string">&quot;, &quot;</span> + ageField.get(sarah));</span><br><span class="line"><span class="comment">// ä½¿ç”¨privateæ„é€ å™¨åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">Constructor&lt;?&gt; privateConstructor = clazz.getDeclaredConstructor(String.class);</span><br><span class="line">privateConstructor.setAccessible(<span class="literal">true</span>);</span><br><span class="line"><span class="type">Person</span> <span class="variable">secret</span> <span class="operator">=</span> (Person) privateConstructor.newInstance(<span class="string">&quot;Secret&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;ç§æœ‰æ„é€ åˆ›å»º: &quot;</span> + secret.name + <span class="string">&quot;, &quot;</span> + ageField.get(secret));</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">æ‰€æœ‰æ„é€ å™¨:</span><br><span class="line">å‚æ•°æ•°é‡: 1</span><br><span class="line">å‚æ•°æ•°é‡: 2</span><br><span class="line">å‚æ•°æ•°é‡: 0</span><br><span class="line">æ— å‚æ„é€ åˆ›å»º: Unknown</span><br><span class="line">å¸¦å‚æ„é€ åˆ›å»º: Sarah, 28</span><br><span class="line">ç§æœ‰æ„é€ åˆ›å»º: Secret, 18</span><br></pre></td></tr></table></figure><p>ç»è¿‡å‰é¢å™è¿°ï¼Œè¿™é‡Œçš„ç›¸å…³æ–¹æ³•ä¹Ÿæ˜¯å¾ˆå¥½ç†è§£ï¼Œ<code>getConstructor</code>æ–¹æ³•çš„å‚æ•°å–å†³äºä½ æ‹¿åˆ°çš„æ„é€ å™¨çš„å‚æ•°ï¼ˆå…¶å®ä¹Ÿæ˜¯ä¸ªæ•°ç»„ï¼‰ã€‚</p><p><code>newInstance()</code>æ–¹æ³•å¯ä»¥æ ¹æ®ä½ æ‹¿åˆ°çš„æ„é€ å™¨æ¥åˆ›å»ºè¯¥æ„é€ å™¨æ‰€åœ¨ç±»çš„å®ä¾‹ï¼Œå‚æ•°åŒä¸Šç†è§£ã€‚ä¾‹å­ä¸­æ˜¯ç›´æ¥å¼ºè½¬ç±»å‹äº†ï¼Œå¦‚æœ<code>clazz</code>æ˜¯ç”¨æ³•äºŒå¾—åˆ°çš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>cast</code>æ–¹æ³•è¿›è¡Œç±»å‹è½¬æ¢ã€‚ä¸€èˆ¬æ¥è¯´è¿™ä¸ªæ–¹æ³•åˆ›å»ºçš„å®ä¾‹ç”¨<code>Object</code>æ¥æ¥æ”¶ï¼Œå› ä¸ºåˆ›å»ºçš„å¯¹è±¡æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆçš„ï¼Œç¼–è¯‘é˜¶æ®µæ— æ³•çŸ¥é“ã€‚<strong>å»ºè®®ä½¿ç”¨åå°„ç›´æ¥è°ƒç”¨å’Œæ“ä½œå¯¹è±¡çš„æ–¹æ³•å’Œå­—æ®µï¼Œè€Œä¸æ˜¯å…ˆè¿›è¡Œç±»å‹è½¬æ¢ï¼Œæ¯•ç«Ÿå¦‚æœåœ¨ç¼–å†™é˜¶æ®µå·²ç»æ˜ç¡®äº†è¦è½¬æ¢çš„ç±»å‹ï¼Œé‚£ä¹ˆç›´æ¥æ˜¾ç¤ºåœ°è°ƒç”¨æ›´åˆé€‚ï¼Œè€Œä¸å¿…ä¾èµ–äºåå°„ã€‚åå°„çš„çœŸæ­£ä»·å€¼åœ¨äºå¤„ç†ç¼–è¯‘æ—¶æœªçŸ¥çš„ç±»å‹ï¼Œä»è€Œç¼–å†™æ›´å…·æœ‰é€šç”¨æ€§çš„ä»£ç ã€‚</strong></p><p>ç¤ºä¾‹é‡Œç”¨<code>Constructor&lt;?&gt;</code>æ¥æ”¶<code>clazz.getConstructor()</code>åˆ›å»ºçš„å®ä¾‹æ˜¯å› ä¸º<code>clazz</code>çš„åˆ›å»ºå°±ä½¿ç”¨çš„æ˜¯é€šé…ç¬¦ã€‚å¦‚æœåœ¨åˆ›å»ºæ—¶æŒ‡å®šç±»ï¼Œé‚£ä¾¿å¯ä»¥æŒ‡å®šæ³›å‹å‚æ•°ï¼Œç›¸å½“äºæ„é€ å™¨å°±çŸ¥é“è‡ªå·±è¦æ„é€ çš„å¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹äº†ã€‚</p><h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><p>ä¸Šè¿°å†…å®¹åªæ˜¯åå°„éƒ¨åˆ†çš„å†°å±±ä¸€è§’ï¼Œæˆ‘å·²ç»å°½æˆ‘æ‰€èƒ½æŠŠè¿™â€œä¸€è§’â€è®²è¿°æ¸…æ¥šã€‚</p><p>åå°„å¾ˆå¼ºï¼Œå®ƒèƒ½æä¾›è¿è¡Œæ—¶åŠ¨æ€æ“ä½œç±»å’Œå¯¹è±¡çš„èƒ½åŠ›ï¼Œæ˜¯å¾ˆå¤šæ¡†æ¶çš„åŸºçŸ³ï¼Œä½†åŒæ—¶å®ƒä¹Ÿå¸¦æ¥äº†å¾ˆå¤šé—®é¢˜ï¼Œæ€§èƒ½å¼€é”€å¤§ã€ä»£ç å¯è¯»æ€§å·®ç­‰ç­‰ã€‚åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œç¨‹åºå‘˜è¿˜æ˜¯ä¼šä¼˜å…ˆé€‰æ‹©ç›´æ¥è°ƒç”¨ã€æ¥å£ã€è®¾è®¡æ¨¡å¼ç­‰æ›´æ¸…æ™°ã€é«˜æ•ˆçš„æ–¹å¼ã€‚</p><p>æœ‰æœºä¼šæˆ‘ä¹Ÿä¼šæ›´æ–°ä¸€ä¸ªä¸åå°„æœ‰å…³çš„å®æˆ˜æ¡ˆä¾‹ï¼Œæ¬¢è¿æ”¶è—æˆ‘çš„ç½‘ç«™ã€‚</p><p>å‚è€ƒæ–‡ç« ï¼š</p><ul><li><p><a href="https://www.cnblogs.com/chanshuyi/p/head_first_of_reflection.html">å¤§ç™½è¯è¯´Javaåå°„ï¼šå…¥é—¨ã€ä½¿ç”¨ã€åŸç† - é™ˆæ ‘ä¹‰ - åšå®¢å›­</a></p></li><li><p><a href="https://blog.csdn.net/sinat_38259539/article/details/71799078">JavaåŸºç¡€ä¹‹â€”åå°„ï¼ˆéå¸¸é‡è¦ï¼‰-CSDNåšå®¢</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> JavaåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
            <tag> åå°„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡åˆ°çš„å¥‡è‘©BUG</title>
      <link href="/2025/08/02/%E9%81%87%E5%88%B0%E7%9A%84%E5%A5%87%E8%91%A9BUG/"/>
      <url>/2025/08/02/%E9%81%87%E5%88%B0%E7%9A%84%E5%A5%87%E8%91%A9BUG/</url>
      
        <content type="html"><![CDATA[<p>æ­¤ç¯‡åšå®¢è®°å½•æˆ‘å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°çš„å¥‡è‘©BUG</p><h2 id="SpringBooté¡¹ç›®å¯åŠ¨å¤±è´¥"><a href="#SpringBooté¡¹ç›®å¯åŠ¨å¤±è´¥" class="headerlink" title="SpringBooté¡¹ç›®å¯åŠ¨å¤±è´¥"></a><code>SpringBoot</code>é¡¹ç›®å¯åŠ¨å¤±è´¥</h2><p><img src="https://dongimagehost-1356670526.cos.ap-nanjing.myqcloud.com/2025/07/image-20250801212248493.png" alt="image-20250801212248493"></p><p>å¦‚ä¸Šå›¾ï¼Œ<code>SpringBoot</code>é¡¹ç›®å¯åŠ¨å¤±è´¥ã€‚</p><p>è™½ç„¶è¯´æ˜¯ç«¯å£å ç”¨ï¼Œä½†æˆ‘æ‰§è¡Œç›¸å…³å‘½ä»¤åæ²¡æœ‰ä»»ä½•è¾“å‡ºï¼Œä¿®æ”¹å¯åŠ¨ç«¯å£ä¸è¡Œï¼Œå°è¯•äº†å¾ˆå¤šåŠæ³•éƒ½æœªæˆåŠŸï¼Œé‚£åªå¥½ä½¿å‡ºæˆ‘çš„ç»ˆæå¤§æ‹›ï¼šé‡å¯ideaã€‚è¿˜æ˜¯ä¸è¡Œã€‚å¹¸å¥½æˆ‘è¿˜æœ‰ç»ˆæç»ˆæå¤§æ‹›ï¼šé‡å¯ç”µè„‘ã€‚å˜¿ï¼Œä½ çŒœæ€ä¹ˆç€ï¼Œæˆäº†ï¼ğŸ¤£</p>]]></content>
      
      
      
        <tags>
            
            <tag> BUG </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆè¯†åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</title>
      <link href="/2025/07/07/%E5%88%9D%E8%AF%86%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
      <url>/2025/07/07/%E5%88%9D%E8%AF%86%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–"><a href="#ä»€ä¹ˆæ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–" class="headerlink" title="ä»€ä¹ˆæ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–"></a>ä»€ä¹ˆæ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–</h2><p>åºåˆ—åŒ–ï¼Œäººè¯è®²å°±æ˜¯å°†å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—ï¼ˆä¹Ÿå¯ä»¥æ˜¯JSONã€XMLç­‰æ–‡æœ¬æ ¼å¼ï¼‰ï¼Œååºåˆ—åŒ–å°±æ˜¯æŠŠè¿™ä¸ªè¿‡ç¨‹å€’ç½®ã€‚</p><p>ä¸‹é¢æ˜¯ç»´åŸºç™¾ç§‘å…³äºåºåˆ—åŒ–çš„ä»‹ç»</p><blockquote><p><strong>åºåˆ—åŒ–</strong>ï¼ˆserializationï¼‰åœ¨<a href="https://zh.wikipedia.org/wiki/%E8%A8%88%E7%AE%97%E6%A9%9F%E7%A7%91%E5%AD%B8">è®¡ç®—æœºç§‘å­¦</a>çš„èµ„æ–™å¤„ç†ä¸­ï¼Œæ˜¯æŒ‡å°†<a href="https://zh.wikipedia.org/wiki/%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B">æ•°æ®ç»“æ„</a>æˆ–<a href="https://zh.wikipedia.org/wiki/%E7%89%A9%E4%BB%B6_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%B8)">å¯¹è±¡</a>çŠ¶æ€è½¬æ¢æˆå¯å–ç”¨æ ¼å¼ï¼ˆä¾‹å¦‚å­˜æˆæ–‡ä»¶ï¼Œå­˜äºç¼“å†²ï¼Œæˆ–ç»ç”±ç½‘ç»œä¸­å‘é€ï¼‰ï¼Œä»¥ç•™å¾…åç»­åœ¨ç›¸åŒæˆ–å¦ä¸€å°è®¡ç®—æœºç¯å¢ƒä¸­ï¼Œèƒ½æ¢å¤åŸå…ˆçŠ¶æ€çš„è¿‡ç¨‹ã€‚ä¾ç…§åºåˆ—åŒ–æ ¼å¼é‡æ–°è·å–<a href="https://zh.wikipedia.org/wiki/%E4%BD%8D%E5%85%83%E7%BB%84">å­—èŠ‚</a>çš„ç»“æœæ—¶ï¼Œå¯ä»¥åˆ©ç”¨å®ƒæ¥äº§ç”Ÿä¸åŸå§‹å¯¹è±¡ç›¸åŒè¯­ä¹‰çš„å‰¯æœ¬ã€‚å¯¹äºè®¸å¤šå¯¹è±¡ï¼Œåƒæ˜¯ä½¿ç”¨å¤§é‡<a href="https://zh.wikipedia.org/wiki/%E5%8F%83%E7%85%A7">å¼•ç”¨</a>çš„å¤æ‚å¯¹è±¡ï¼Œè¿™ç§åºåˆ—åŒ–é‡å»ºçš„è¿‡ç¨‹å¹¶ä¸å®¹æ˜“ã€‚é¢å‘å¯¹è±¡ä¸­çš„å¯¹è±¡åºåˆ—åŒ–ï¼Œå¹¶ä¸æ¦‚æ‹¬ä¹‹å‰åŸå§‹å¯¹è±¡æ‰€å…³ç³»çš„å‡½æ•°ã€‚è¿™ç§è¿‡ç¨‹ä¹Ÿç§°ä¸ºå¯¹è±¡ç¼–ç»„ï¼ˆmarshallingï¼‰ã€‚ä»ä¸€ç³»åˆ—å­—èŠ‚æå–æ•°æ®ç»“æ„çš„åå‘æ“ä½œï¼Œæ˜¯<strong>ååºåˆ—åŒ–</strong>ï¼ˆä¹Ÿç§°ä¸ºè§£ç¼–ç»„ã€deserializationã€unmarshallingï¼‰ã€‚</p></blockquote><p>å¯¹äºJavaè¿™ç§é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€æ¥è¯´ï¼Œæ˜¯å¯¹å®ä¾‹åŒ–åçš„å¯¹è±¡è¿›è¡Œåºåˆ—åŒ–ï¼Œè€Œå¯¹äºC++è¿™ç§åŠé¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€æ¥è¯´ï¼Œåºåˆ—åŒ–çš„ç›®æ ‡ä¸ä»…æœ‰å¯¹è±¡ï¼ˆclassï¼‰è¿˜æœ‰æ•°æ®ç»“æ„ï¼ˆstructï¼‰</p><h2 id="åºåˆ—åŒ–çš„ä½¿ç”¨åœºæ™¯"><a href="#åºåˆ—åŒ–çš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="åºåˆ—åŒ–çš„ä½¿ç”¨åœºæ™¯"></a>åºåˆ—åŒ–çš„ä½¿ç”¨åœºæ™¯</h2><ol><li><p>æ•°æ®å­˜å‚¨ï¼šæ¯”å¦‚åºåˆ—åŒ–å¯ä»¥å°†å­˜å‚¨åœ¨ JVM å †åŒºä¸­çš„å¯¹è±¡è½¬æ¢æˆå­—èŠ‚åºåˆ—ï¼Œä»è€Œå®ç°æŒä¹…åŒ–ã€‚</p></li><li><p>ç½‘ç»œé€šä¿¡ï¼šå°†å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—æ–¹ä¾¿å…¶åœ¨ç½‘ç»œä¸­è¿›è¡Œä¼ é€’å’Œæ¥æ”¶ã€‚</p></li></ol><h2 id="ä½¿ç”¨Javaå®ç°åºåˆ—åŒ–"><a href="#ä½¿ç”¨Javaå®ç°åºåˆ—åŒ–" class="headerlink" title="ä½¿ç”¨Javaå®ç°åºåˆ—åŒ–"></a>ä½¿ç”¨Javaå®ç°åºåˆ—åŒ–</h2><p>ä»¥ JDK è‡ªå¸¦åºåˆ—åŒ–æ–¹æ³•ä¸ºä¾‹ï¼Œå®ç°<code>java.io.Serializable</code>æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Date birth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åºåˆ—åŒ–æ¼”ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">serializeTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        cat.setName(<span class="string">&quot;tom&quot;</span>);</span><br><span class="line">        cat.setAge(<span class="number">2</span>);</span><br><span class="line">        cat.setBirth(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        <span class="comment">//ä½¿ç”¨ObjectOutputStreamå°†catå¯¹è±¡åºåˆ—åŒ–å¹¶å­˜å…¥test1.txtæ–‡ä»¶ä¸­</span></span><br><span class="line">        <span class="keyword">try</span> (<span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;test1.txt&quot;</span>);</span><br><span class="line">             <span class="type">ObjectOutputStream</span> <span class="variable">objectOutputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(fileOutputStream)) &#123;</span><br><span class="line">            objectOutputStream.writeObject(cat);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ååºåˆ—åŒ–æ¼”ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">deserializeTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//ä½¿ç”¨ObjectInputStreamå¯¹test.txtæ–‡ä»¶è¯»å–å¹¶ååºåˆ—åŒ–</span></span><br><span class="line">        <span class="keyword">try</span> (<span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;test1.txt&quot;</span>);</span><br><span class="line">             <span class="type">ObjectInputStream</span> <span class="variable">objectInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(fileInputStream)) &#123;</span><br><span class="line">            <span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> (Cat) objectInputStream.readObject();</span><br><span class="line">            System.out.println(cat);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ååºåˆ—åŒ–ç»“æœå¦‚ä¸‹:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cat(age=2, name=tom, birth=Fri Jul 04 21:37:13 CST 2035)</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥è®©æˆ‘ä»¬èµ°è¿›<code>Serializable</code>çš„æºä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½ æ²¡çœ‹é”™ï¼Œ<code>Serializable</code>æ¥å£ä¸­æ²¡æœ‰ä»»ä½•æ–¹æ³•å’Œå­—æ®µï¼Œå®ƒçš„ä½œç”¨ä»…ä»…æ˜¯å‘Šè¯‰JVMï¼šå®ç°è¯¥æ¥å£çš„ç±»å¯ä»¥è¢«åºåˆ—åŒ–ï¼Œ</p><p>å…¶å®é™¤äº†å®ç°<code>Serializable</code>æ¥å£å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªé€‰æ‹©å°±æ˜¯å®ç°<code>Externalizable</code>æ¥å£ï¼ˆè¯¥æ¥å£æ˜¯<code>Serializable</code>çš„å­æ¥å£ï¼‰ï¼Œä¸è¿‡éœ€è¦é‡å†™ä¸¤ä¸ªæ–¹æ³•ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">implements</span> <span class="title class_">Externalizable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Date birth;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">writeExternal</span><span class="params">(ObjectOutput out)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        out.writeObject(name);</span><br><span class="line">        out.writeObject(birth);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">readExternal</span><span class="params">(ObjectInput in)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException &#123;</span><br><span class="line">        name = (String) in.readObject();</span><br><span class="line">        birth = (Date) in.readObject();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åºåˆ—åŒ–å’Œååºåˆ—åŒ–ä»£ç ä¸€æ ·ï¼Œæœ€ç»ˆç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cat(age=0, name=tom, birth=Fri Jul 04 21:43:23 CST 2025)</span><br></pre></td></tr></table></figure><p><code>writeExternal</code>å’Œ<code>readExternal</code>å¯ä»¥è‡ªå®šä¹‰å“ªäº›å­—æ®µéœ€è¦åºåˆ—åŒ–ï¼Œæˆ‘è¿™ä¸ªä¾‹å­ä¸­å°±æ²¡æœ‰å¯¹<code>age</code>è¿›è¡Œæ“ä½œï¼Œåœ¨ååºåˆ—åŒ–åå®ƒè¢«èµ‹åˆå€¼0ã€‚éœ€è¦æ³¨æ„çš„æ˜¯</p><blockquote><p>The readExternal method must read the values in the same sequence and with the same types as were written by writeExternal.</p></blockquote><p>ç¿»è¯‘è¿‡æ¥æ„æ€å°±æ˜¯è¿™ä¸¤ä¸ªæ–¹æ³•åº”è¯¥ç”¨ç›¸åŒçš„é¡ºåºå’Œç›¸åŒçš„ç±»å‹å¯¹å­—æ®µè¿›è¡Œè¯»å†™ï¼Œç›¸åŒçš„é¡ºåºå®¹æ˜“ç†è§£ï¼Œç›¸åŒçš„ç±»å‹æ„æ€å°±æ˜¯åœ¨<code>readExternal</code>ä¸­å¼ºè½¬çš„ç›®æ ‡ç±»å‹å¿…é¡»å’Œ<code>writeExternal</code>åŸç±»å‹ä¿æŒä¸€è‡´ã€‚åœ¨å®ç°<code>Externalizable</code>æ¥å£æ—¶ï¼Œè¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯åºåˆ—åŒ–å¯¹è±¡ä¸­å¿…é¡»æä¾›æ— å‚æ„é€ ï¼Œä»¥Catç±»ä¸ºä¾‹,å½“æˆ‘åŠ å…¥ä¸€ä¸ªæœ‰å‚æ„é€ è¦†ç›–é»˜è®¤æ— å‚æ„é€ åï¼Œåºåˆ—åŒ–æ­£å¸¸è¿è¡Œï¼Œååºåˆ—åŒ–å‡ºç°æŠ¥é”™</p><p><img src="https://dongimagehost-1356670526.cos.ap-nanjing.myqcloud.com/2025/07/image-20250705112136780.png" alt="image-20250705112136780"></p><p><strong>å…³äºåºåˆ—åŒ–æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</strong></p><ol><li><p>åªæœ‰å®ç°è¯¥æ¥å£çš„ç±»æ‰å¯ä»¥è¢«åºåˆ—åŒ–ã€‚</p></li><li><p>å¯åºåˆ—åŒ–ç±»çš„æ‰€æœ‰å­ç±»æ˜¯å¯ä»¥è¢«åºåˆ—åŒ–çš„ã€‚ä¸å¯åºåˆ—åŒ–ç±»çš„å­ç±»å‹å¯ä»¥è¢«åºåˆ—åŒ–ã€‚</p></li><li><p>å¦‚æœä¸æƒ³å¯¹æŸä¸ªå˜é‡åºåˆ—åŒ–ï¼Œå¯ä»¥ç”¨<code>transient</code>å…³é”®å­—ä¿®é¥°ï¼Œå®ƒåªèƒ½ä¿®é¥°å˜é‡ï¼Œä¸èƒ½ä¿®é¥°ç±»å’Œæ–¹æ³•ã€‚<code>transient</code> ä¿®é¥°çš„å˜é‡ï¼Œåœ¨ååºåˆ—åŒ–åå˜é‡å€¼å°†ä¼šè¢«ç½®æˆç±»å‹çš„é»˜è®¤å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ˜¯ä¿®é¥° <code>int</code> ç±»å‹ï¼Œé‚£ä¹ˆååºåˆ—åç»“æœå°±æ˜¯ <code>0</code>ã€‚</p></li><li><p>åºåˆ—åŒ–è¿è¡Œæ—¶ä¼šä¸ºæ¯ä¸ªå¯åºåˆ—åŒ–ç±»åˆ†é…ä¸€ä¸ªç‰ˆæœ¬å·<code>serialVersionUID</code>è¯¥ç‰ˆæœ¬å·åœ¨åºåˆ—åŒ–æœºåˆ¶ä¸­ç”¨äºéªŒè¯ç±»çš„ç‰ˆæœ¬æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœååºåˆ—åŒ–æ—¶çš„UIDå’ŒåŸæ¥åºåˆ—åŒ–çš„UIDä¸åŒï¼Œåˆ™ä¼šæŠ›å‡º<code>InvalidClassException</code>ã€‚</p><p>è¿™ä¸ªå­—æ®µå¯ä»¥æ‰‹åŠ¨æ˜¾ç¤ºå£°æ˜ï¼Œä¹Ÿå¯ä»¥è‡ªåŠ¨ç”Ÿæˆã€‚å¦‚æœæ˜¾ç¤ºå£°æ˜ï¼Œè¿™ä¸ªå­—æ®µå¿…é¡»æ˜¯<code>static</code> <code>final</code>ä¸”ç±»å‹ä¸º<code>long</code>çš„ã€‚å¦‚æœè¯¥å­—æ®µæœªè¢«æ˜¾ç¤ºå£°æ˜ï¼ŒJVMä¼šæ ¹æ®è¯¥ç±»çš„ç»“æ„è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª<code>serialVersionUID</code>ï¼Œæšä¸¾ç±»çš„<code>serialVersionUID</code>ä¼šè¢«å®šä¹‰ä¸º0Lã€‚</p><p>å®˜æ–¹å¼ºçƒˆå»ºè®®é™¤äº†æšä¸¾ç±»å‹ä»¥å¤–çš„æ‰€æœ‰å¯åºåˆ—åŒ–ç±»æ˜¾ç¤ºå£°æ˜<code>serialVersionUID</code>å€¼ï¼Œå› ä¸ºç”Ÿæˆç®—æ³•å¯¹ç±»çš„ç»†èŠ‚éå¸¸æ•æ„Ÿï¼ˆå¦‚æ–¹æ³•ã€å­—æ®µç­‰çš„å˜åŒ–éƒ½ä¼šå¯¼è‡´<code>serialVersionUID</code>æ”¹å˜ï¼‰ï¼Œä»è€Œå¯¼è‡´å…¼å®¹æ€§é—®é¢˜ã€‚æ˜¾å¼è®¾ç½® <code>serialVersionUID </code>å¯ä»¥ç¡®ä¿åœ¨ç±»å‘ç”Ÿéå…¼å®¹æ›´æ”¹æ—¶ç”±å¼€å‘è€…ä¸»åŠ¨å†³å®šæ˜¯å¦æ›´æ–° UIDï¼Œè€Œä¸æ˜¯å› ä¸ºç±»ç»“æ„å¾®å°å˜åŒ–è€Œå¯¼è‡´ååºåˆ—åŒ–å¤±è´¥ã€‚åŒæ—¶å®˜æ–¹å»ºè®®ä½¿ç”¨privateæ¥å£°æ˜<code>serialVersionUID</code>ï¼Œå› ä¸ºè¯¥å­—æ®µä¸ä¼šè¢«å­ç±»ç»§æ‰¿ä½¿ç”¨ï¼Œå› æ­¤æ²¡å¿…è¦è®¾ç½®ä¸º<code>public</code>æˆ–<code>protected</code>ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Serial</span><span class="comment">//Java14åå»ºè®®æ·»åŠ </span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å°æ˜ä¸¾æ‰‹è¯´ï¼šè€å¸ˆè€å¸ˆï¼Œå¦‚æœ<code>serialVersionUID</code>è¢«<code>static</code>ä¿®é¥°ï¼Œé‚£ä»–å°±å±äºè¿™ä¸ªç±»ï¼Œè€Œä¸å±äºå®ä¾‹åŒ–åçš„å¯¹è±¡äº†ï¼Œé‚£æ€ä¹ˆå°†è¿™ä¸ªå­—æ®µåºåˆ—åŒ–å‘¢ï¼Ÿè€å¸ˆè¯´ï¼šå¥½é—®é¢˜ï¼Œ<del>æˆ‘ä¹Ÿä¸çŸ¥é“ã€‚</del> åºåˆ—åŒ–ä¿å­˜çš„æ˜¯å¯¹è±¡çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯å®ä¾‹å˜é‡çš„å€¼ï¼Œç„¶è€Œ<code>serialVersionUID</code>æ˜¯ä¸€ä¸ªç‰¹ä¾‹ï¼Œå®ƒæœ¬èº«ç¡®å®ä¸ä½œä¸ºå¯¹è±¡çŠ¶æ€è¢«åºåˆ—åŒ–ï¼Œä½†å®ƒçš„å€¼è¢«åºåˆ—åŒ–æœºåˆ¶ç‰¹æ®Šå¤„ç†äº†ã€‚å±å¹•å‰çš„ä½ æ˜ç™½äº†å—ï¼Œåæ­£æˆ‘è¿˜æ˜¯æœ‰ç‚¹ç³Šæ¶‚ï¼Œæˆ‘è§‰å¾—æŠŠå®ƒè§†ä¸ºä¸€ä¸ªç‰¹ä¾‹å°±å¥½äº†ï¼Œè¦çœŸæ­£å¼„æ‡‚æ€•æ˜¯è¦ææ˜ç™½JVMï¼Œé‚£è¦å¾ˆä¹…ä»¥åäº†ã€‚</p></li></ol><h2 id="Javaååºåˆ—åŒ–æ¼æ´"><a href="#Javaååºåˆ—åŒ–æ¼æ´" class="headerlink" title="Javaååºåˆ—åŒ–æ¼æ´"></a>Javaååºåˆ—åŒ–æ¼æ´</h2><p>è¿™é‡Œæˆ‘æ¨èè§‚çœ‹<a href="https://5i1encee.top/">5i1encee</a>çš„ç›¸å…³åšå®¢ï¼Œå…³äºååºåˆ—åŒ–æ¼æ´æˆ‘ç®€è¦ä»‹ç»ä¸€ä¸‹ã€‚</p><p>å½“æ”»å‡»è€…é€šè¿‡æ„é€ æ¶æ„è¾“å…¥ï¼Œè®©ååºåˆ—åŒ–äº§ç”Ÿéé¢„æœŸçš„çš„å¯¹è±¡ï¼Œé‚£ä¹ˆåœ¨ååºåˆ—åŒ–è¿™ä¸ªè¿‡ç¨‹ä¸­å°±å¯èƒ½æ‰§è¡Œæ¶æ„ä»£ç ã€‚å·²ç»æœ‰å¤šä¸ªç‰ˆæœ¬çš„åº“æˆ–æ¡†æ¶è¢«å‘ç°å­˜åœ¨ååºåˆ—åŒ–æ¼æ´ï¼Œå¦‚<code>Apache Commons Collections</code> ã€‚å€Ÿç”¨<a href="https://www.zhihu.com/question/37562657/answer/1916596031">ä¸€ä½å¤§å“¥</a>çš„ä¾‹å­æ¥ç®€å•è¯´æ˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VulnerabilityTest</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">MyObject</span> <span class="variable">myObj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyObject</span>();</span><br><span class="line">        myObj.name = <span class="string">&quot;hi&quot;</span>;</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;object&quot;</span>);</span><br><span class="line">        <span class="type">ObjectOutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(fos);</span><br><span class="line">        os.writeObject(myObj);</span><br><span class="line">        os.close();</span><br><span class="line"></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;object&quot;</span>);</span><br><span class="line">        <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(fis);</span><br><span class="line">        <span class="type">MyObject</span> <span class="variable">objectFromDisk</span> <span class="operator">=</span> (MyObject)ois.readObject();</span><br><span class="line">        System.out.println(objectFromDisk.name);</span><br><span class="line">        ois.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyObject</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">readObject</span><span class="params">(ObjectInputStream in)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException&#123;</span><br><span class="line">        in.defaultReadObject();</span><br><span class="line">        Runtime.getRuntime().exec(<span class="string">&quot;calc&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨<code>MyObject</code>è¿™ä¸ªç±»ä¸­ï¼Œè‡ªå®šä¹‰äº†<code>readObject</code>è¿™ä¸ªæ–¹æ³•ï¼Œç›¸å½“äºå¯ä»¥è‡ªå·±å†³å®šå¯¹å“ªäº›å­—æ®µååºåˆ—åŒ–ã€‚åœ¨<code>readObject</code>è¿™ä¸ªæ–¹æ³•é‡Œé€šè¿‡è°ƒç”¨<code>defaultReadObject</code>æ¥å®ç°é»˜è®¤çš„ååºåˆ—åŒ–æœºåˆ¶ã€‚ä¹‹åæ‰§è¡Œäº†åä¸º<code>calc</code>çš„ç³»ç»Ÿå‘½ä»¤ï¼Œè¿™æ˜¯<code>Windows</code>ä¸‹å¯åŠ¨è®¡ç®—å™¨çš„å‘½ä»¤ã€‚å½“æˆ‘è¿›è¡Œååºåˆ—åŒ–æ“ä½œæ—¶ï¼Œç”µè„‘ä¸Šçš„è®¡ç®—å™¨ä¹Ÿéšä¹‹å¯åŠ¨ã€‚å®é™…ä¸Šï¼ŒJava ååºåˆ—åŒ–æ¼æ´äº§ç”Ÿçš„åŸå› å¤§å¤šæ•°æ˜¯å› ä¸ºååºåˆ—åŒ–æ—¶æ²¡æœ‰è¿›è¡Œæ ¡éªŒï¼Œæˆ–è€…æœ‰äº›æ ¡éªŒä½¿ç”¨é»‘åå•æ–¹å¼åˆè¢«ç»•è¿‡ï¼Œæœ€ç»ˆä½¿å¾—åŒ…å«æ¶æ„ä»£ç çš„åºåˆ—åŒ–å¯¹è±¡åœ¨æœåŠ¡å™¨ç«¯è¢«ååºåˆ—åŒ–æ‰§è¡Œã€‚</p><h2 id="å…¶ä»–åºåˆ—åŒ–åè®®"><a href="#å…¶ä»–åºåˆ—åŒ–åè®®" class="headerlink" title="å…¶ä»–åºåˆ—åŒ–åè®®"></a>å…¶ä»–åºåˆ—åŒ–åè®®</h2><p>ä¸Šè¿°æœ‰å…³ä»£ç çš„ä¸¾ä¾‹å‡æ˜¯ JDK è‡ªå¸¦çš„åºåˆ—åŒ–åè®®ï¼Œä½†å®ƒåœ¨å¼€å‘ä¸­å¾ˆå°‘è¢«ä½¿ç”¨ï¼Œä¸»è¦åŸå› å¦‚ä¸‹ï¼š</p><ol><li>ä¸¥é‡çš„å®‰å…¨é£é™©ï¼šæ­£å¦‚ä¾‹å­ä¸­æåˆ°çš„<code>readObject</code>æ–¹æ³•ï¼Œæ”»å‡»è€…å¯æ„é€ æ¶æ„åºåˆ—åŒ–æ•°æ®è§¦å‘ä»»æ„ä»£ç æ‰§è¡Œ</li><li>è·¨è¯­è¨€å…¼å®¹æ€§å·®ï¼šè¯¥åè®®åºåˆ—åŒ–åçš„äºŒè¿›åˆ¶æ•°æ®åªèƒ½è¢« Java ç¨‹åºè¯†åˆ«ï¼Œæ— æ³•ä¸å…¶ä»–è¯­è¨€äº¤äº’ï¼Œå¤šè¯­è¨€åä½œå›°éš¾ã€‚</li><li>æ€§èƒ½ä½ä¸‹ï¼šåºåˆ—åŒ–åçš„äºŒè¿›åˆ¶æ•°æ®ä½“ç§¯è¿œå¤§äº JSON æˆ–å…¶ä»–äºŒè¿›åˆ¶åè®®ã€‚åŒæ—¶å› ä¸ºéœ€è¦åå°„å’Œé€’å½’å¤„ç†å¯¹è±¡å›¾ï¼Œå¯¼è‡´é€Ÿåº¦è¾ƒæ…¢ã€‚</li></ol><p>å¸¸ç”¨çš„åºåˆ—åŒ–åè®®æœ‰Hessianã€Kryoã€ Protobufã€ ProtoStuff ç­‰ï¼Œè¿™äº›éƒ½æ˜¯åŸºäºäºŒè¿›åˆ¶çš„åºåˆ—åŒ–åè®®ã€‚SpringBoot é¡¹ç›®ä¸­ä¹Ÿå¯ä»¥é›†æˆ Jacksonã€Fastjson ç­‰å°†å¯¹è±¡åºåˆ—åŒ–ä¸ºJSONæ ¼å¼çš„åº“ã€‚</p><p>ç¬¬ä¸€ç¯‡åšå®¢å…ˆå†™åˆ°è¿™é‡Œï¼Œä¸ªäººç†è§£éš¾å…æœ‰åå·®ï¼Œæ¬¢è¿è¯„è®ºåŒºæŒ‡æ­£ã€‚æˆ‘ä»¥åä¹Ÿä¼šç»§ç»­æ›´æ–°ï¼Œæ¬¢è¿æ”¶è—<a href="https://withdong02.top/">æˆ‘çš„ç½‘ç«™</a>ã€‚</p><p>å‚è€ƒæ–‡ç« ï¼š</p><ul><li><a href="https://javaguide.cn/java/basis/serialization.html">Java åºåˆ—åŒ–è¯¦è§£ | JavaGuide</a></li><li><a href="https://www.zhihu.com/question/37562657/answer/1916596031">(6 å°ç§ä¿¡ &#x2F; 70 æ¡æ¶ˆæ¯) Javaååºåˆ—åŒ–å®‰å…¨æ¼æ´æ€ä¹ˆå›äº‹? - çŸ¥ä¹</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> JavaåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
            <tag> åºåˆ—åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
